# This file pipline for project Simple Nodejs Weather App with stage build and test

build:
  stage: build
  script:
    - docker build . -t simple-nodejs-weather-app
  tags:
    - shell      
    
deploy:
  stage: deploy
  script:
    - docker stop simple-nodejs-weather-app #останавливаем пердидущий контейнер
    - docker rm simple-nodejs-weather-app #удаляем его
    - docker run -d -p 3000:3000 --name  simple-nodejs-weather-app simple-nodejs-weather-app
  tags:
    - shell 


